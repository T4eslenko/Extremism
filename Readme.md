# Телеграмм-Бот для поиска в документах Microsoft Word (docx)
## Правовая информация

Исходный код бота не собирает и не хранит информацию о пользователях, времени, месте и устройствах на которых бот использутся.

Для запуска бота в защищенной среде оператор должен создать свой собственный бот в меесенджере Telegramm согласно инструкции и хранить токен от бота в секрете.

Исходный код бота может содержать ошибки. Оператор использует исходный код как есть. Автор исходного кода не несет ответственности за возможный ущерб, связааный с эксплуатацией бота.

---
## Необходимые компоненты

**1. Python (3.10.13)** - https://www.python.org/downloads/release/python-31013/   
Интерпретатор языка Python для модификации, запуска и тестирования бота  


**2. Git** - https://git-scm.com/downloads  
Управление версиями исходного кода для загрузки кода с этого репозитория

**3. Docker** - https://www.docker.com/products/docker-desktop/  
Среда для запуска готового бота 

**4. Microsoft Word или LibreOffice**   
Редактирование файлов в формате Word (doc,docx)

---
## Запуск бота

Необходимые компоненты (см. выше)должны быть уже установлены на компьютере.

### Установка исходного кода
Для установки исходного кода необходимо запустить команду  
> git clone https://github.com/developer151123/document-bot.git  

Исходный код будет устанвлен в папке ./document-bot

### Установка последней версии документа
 Документ загружается с сайта и обновляется автоматически каждый день в полночь

### Установка зависимостей
Для установки зависимостей необходимо выполнить в папке ./document-bot следующую команду
> pip3 install -r requirements.txt


### Запуск бота локально
Для запуска бота локально небходимо запустиь программу в папке ./document-bot 
>./run-document.sh

### Запуск бота в Docker
Для посотоянной работы бота необходимо запустить его в Docker на компьютере который работает 24х7 или на серврере.  

Построить Docker Image
> docker build . -t dev/bot:1.0 


Запустить Docker Image
>  docker run  --name document-bot  dev/bot:1.0

## Создание собственного бота
**Из соображений безопасности необходимо создать собственный Бот в телеграме!**

Для создания бота и получения токена воспользуйтесь ботом @BotFather и выполните команду /newbot.  
Полученный токен внесите в файл /telebot/credentials.py

>bot_token = "Ваш токен"
>bot_user_name = "Имя бота" 


## Вопросы и известные проблемы

1. Изначально бот долго загружает документ в память (3-5 мин) - в документе 1949 строк и 717 страниц
2. Если поиск выдает очень много результатов - обработчик может потерять связь с ботом. В таком случае можно повторить запрос с более узким словом поиска.



